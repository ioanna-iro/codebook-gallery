<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Codebook</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.4/datatables.js"></script>
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<script src="site_libs/jszip-1.10.16/jszip.min.js"></script>
<script src="site_libs/pdfmake-1.10.16/pdfmake.min.js"></script>
<script src="site_libs/pdfmake-1.10.16/vfs_fonts.js"></script>
<link href="site_libs/dt-ext-buttons-1.10.16/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="site_libs/dt-ext-buttons-1.10.16/js/dataTables.buttons.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.16/js/buttons.flash.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.16/js/buttons.html5.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.16/js/buttons.colVis.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.16/js/buttons.print.min.js"></script>
<link href="site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">codebooks</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Codebook</h1>

</div>


<pre class="r"><code>knitr::opts_chunk$set(
  warning = FALSE, # show warnings during codebook generation
  message = FALSE, # show messages during codebook generation
  error = TRUE, # do not interrupt codebook generation in case of errors,
                # usually better for debugging
  echo = TRUE  # show R code
)
ggplot2::theme_set(ggplot2::theme_bw())
pander::panderOptions(&quot;table.split.table&quot;, Inf)</code></pre>
<pre class="r"><code>knit_by_pkgdown &lt;- !is.null(knitr::opts_chunk$get(&quot;fig.retina&quot;))
pander::panderOptions(&quot;table.split.table&quot;, Inf)
ggplot2::theme_set(ggplot2::theme_bw())
knitr::opts_chunk$set(warning = TRUE, message = TRUE, error = TRUE, echo = TRUE)

tetris &lt;- rio::import(&quot;https://osf.io/xmd67/download&quot;, &quot;sav&quot;)</code></pre>
<pre class="r"><code>codebook_data &lt;- tetris

# 
# var_label(codebook_data) &lt;- dict %&gt;% select(Variable, Label) %&gt;% dict_to_list()

# omit the following lines, if your missing values are already properly labelled
codebook_data &lt;- detect_missing(codebook_data,
    only_labelled = TRUE, # only labelled values are autodetected as
                                   # missing
    negative_values_are_missing = FALSE, # negative values are missing values
    ninety_nine_problems = TRUE,   # 99/999 are missing values, if they
                                   # are more than 5 MAD from the median
    )

# If you are not using formr, the codebook package needs to guess which items
# form a scale. The following line finds item aggregates with names like this:
# scale = scale_1 + scale_2R + scale_3R
# identifying these aggregates allows the codebook function to
# automatically compute reliabilities.
# However, it will not reverse items automatically.
codebook_data &lt;- detect_scales(codebook_data)</code></pre>
<pre class="r"><code>metadata(codebook_data)$name &lt;- &quot;Trauma, Treatment and Tetris: video gaming increases hippocampal volume in combat-related post-traumatic stress disorder&quot;

metadata(codebook_data)$description &lt;- paste0(&quot;


### Download link
[Open Science Framework](https://osf.io/xmd67/download)

&quot;)


metadata(codebook_data)$identifier &lt;- &quot;https://osf.io/xz32u/&quot;
metadata(codebook_data)$datePublished &lt;- &quot;2018-02-07&quot;
metadata(codebook_data)$contributors &lt;- list(
      &quot;Oisin Butler &quot;)

metadata(codebook_data)$url &lt;- &quot;https://osf.io/xmd67/&quot;
metadata(codebook_data)$temporalCoverage &lt;- &quot;2018&quot; 

metadata(codebook_data)$distribution = list(
  list(&quot;@type&quot; = &quot;DataDownload&quot;,
       &quot;requiresSubscription&quot; = &quot;http://schema.org/True&quot;,
       &quot;encodingFormat&quot; = &quot;https://www.loc.gov/preservation/digital/formats/fdd/fdd000469.shtml&quot;,
       contentUrl = &quot;https://osf.io/xmd67/download&quot;)
)</code></pre>
<pre class="r"><code>codebook(codebook_data)</code></pre>
<pre class="r"><code>knitr::asis_output(data_info)</code></pre>
<div id="metadata" class="section level3">
<h3>Metadata</h3>
<div id="description" class="section level4">
<h4>Description</h4>
<pre class="r"><code>if (exists(&quot;name&quot;, meta)) {
  glue::glue(
    &quot;__Dataset name__: {name}&quot;,
    .envir = meta)
}</code></pre>
<p><strong>Dataset name</strong>: Trauma, Treatment and Tetris: video gaming increases hippocampal volume in combat-related post-traumatic stress disorder</p>
<pre class="r"><code>cat(description)</code></pre>
</div>
</div>
<div id="download-link" class="section level3">
<h3>Download link</h3>
<p><a href="https://osf.io/xmd67/download">Open Science Framework</a></p>
<ul>
<li><p><strong>Temporal Coverage</strong>: 2018</p></li>
<li><strong>URL</strong>: <a href="https://osf.io/xmd67/" class="uri">https://osf.io/xmd67/</a></li>
<li><strong>Identifier</strong>: <a href="https://osf.io/xz32u/" class="uri">https://osf.io/xz32u/</a></li>
<li><p><strong>Date published</strong>: 2018-02-07</p></li>
</ul>
<pre class="r"><code>meta &lt;- meta[setdiff(names(meta),
                     c(&quot;creator&quot;, &quot;datePublished&quot;, &quot;identifier&quot;,
                       &quot;url&quot;, &quot;citation&quot;, &quot;spatialCoverage&quot;, 
                       &quot;temporalCoverage&quot;, &quot;description&quot;, &quot;name&quot;))]
pander::pander(meta)</code></pre>
<ul>
<li><p><strong>contributors</strong>:</p>
<ul>
<li>Oisin Butler</li>
</ul></li>
<li><p><strong>distribution</strong>:</p>
<ul>
<li><pre><code>   * **@type**: DataDownload
   * **requiresSubscription**: http://schema.org/True
   * **encodingFormat**: https://www.loc.gov/preservation/digital/formats/fdd/fdd000469.shtml
   * **contentUrl**: https://osf.io/xmd67/download</code></pre></li>
</ul></li>
<li><p><strong>keywords</strong>: <em>ID</em>, <em>Group</em>, <em>Gender</em>, <em>Age_Years</em>, <em>No_Deployments</em>, <em>Days_Deployments</em>, <em>CES_SUM_Score</em>, <em>Days_Therapy</em>, <em>Number_EMDR_Session</em>, <em>TETRIS_average_time_per_days</em>, <em>TETRIS_no_days_missed</em>, <em>Interval_Pre_Post</em>, <em>Interval_Post_Follow_Up</em>, <em>TIV</em>, <em>Pre_Cat12_Hippocampus</em>, <em>Post_Pre_Cat12_Hippocampus</em>, <em>Pre_Anatomical_Hippocampus</em>, <em>Post_Anatomical_Hippocampus</em>, <em>Pre_MetaAnalysis_Hippocampus</em>, <em>Post_MetaAnalysis_Hippocampus</em>, <em>Cat12_Hippocampus_Change</em>, <em>Anatomical_Hippocampus_Change</em>, <em>MetaAnalysis_Hippocampus_Change</em>, <em>PDS_Sum_Pre</em>, <em>PDS_Sum_Post</em>, <em>PDS_Sum_Follow_Up</em>, <em>BDI_Pre</em>, <em>BDI_Post</em>, <em>BDI_Follow_Up</em>, <em>STAI_Trait_Pre</em>, <em>STAI_Trait_Post</em>, <em>STAI_Trait_Follow_Up</em>, <em>PDS_Change</em>, <em>BDI_Change</em> and <em>STAI_Trait_Change</em></p></li>
</ul>
<!-- end of list -->
<pre class="r"><code>knitr::asis_output(survey_overview)</code></pre>
</div>
<div id="variables" class="section level2">
<h2>Variables</h2>
<pre class="r"><code>knitr::asis_output(paste0(scales_items, sep = &quot;\n\n\n&quot;, collapse = &quot;\n\n\n&quot;))</code></pre>
<div id="ID" class="section level3 tabset">
<h3>ID</h3>
<p>Participant ID</p>
<div id="ID_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<pre><code>## 40  unique, categorical values, so not shown.</code></pre>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="ID_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">empty</th>
<th align="left">n_unique</th>
<th align="left">min</th>
<th align="left">max</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ID</td>
<td align="left">Participant ID</td>
<td align="left">character</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">6</td>
<td align="left">6</td>
<td align="left">A10</td>
<td align="left">10</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Group" class="section level3 tabset">
<h3>Group</h3>
<p>Participant Group</p>
<div id="Group_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Group_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Group_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">value_labels</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Group</td>
<td align="left">Participant Group</td>
<td align="left">numeric</td>
<td align="left">1. Spieler,<br>2. Kontrollgruppe</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">1.5</td>
<td align="left">0.51</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1.5</td>
<td align="left">2</td>
<td align="left">2</td>
<td align="left">▇▁▁▁▁▁▁▇</td>
<td align="left">F6.2</td>
<td align="left">27</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
</div>
<div id="Group_labels" class="section level4">
<h4>Value labels</h4>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
<ul>
<li><strong>Spieler</strong>: <em>1</em></li>
<li><strong>Kontrollgruppe</strong>: <em>2</em></li>
</ul>
<!-- end of list -->
</div>
</div>
<div id="Gender" class="section level3 tabset">
<h3>Gender</h3>
<p>Gender</p>
<div id="Gender_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Gender_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Gender_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">value_labels</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Gender</td>
<td align="left">Gender</td>
<td align="left">numeric</td>
<td align="left">1. Male,<br>NA. [2] Female</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">1</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">▁▁▁▇▁▁▁▁</td>
<td align="left">F8.2</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
</div>
<div id="Gender_labels" class="section level4">
<h4>Value labels</h4>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
<ul>
<li><strong>Male</strong>: <em>1</em></li>
<li><strong>[2] Female</strong>: <em>NA</em></li>
</ul>
<!-- end of list -->
</div>
</div>
<div id="Age_Years" class="section level3 tabset">
<h3>Age_Years</h3>
<p>Ager in years</p>
<div id="Age_Years_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Age_Years_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Age_Years_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Age_Years</td>
<td align="left">Ager in years</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">33.42</td>
<td align="left">6.31</td>
<td align="left">24</td>
<td align="left">29.75</td>
<td align="left">32.5</td>
<td align="left">35</td>
<td align="left">56</td>
<td align="left">▆▇▇▁▂▁▁▁</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="No_Deployments" class="section level3 tabset">
<h3>No_Deployments</h3>
<p>Number of Deployments</p>
<div id="No_Deployments_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/No_Deployments_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="No_Deployments_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No_Deployments</td>
<td align="left">Number of Deployments</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">2.42</td>
<td align="left">1.75</td>
<td align="left">1</td>
<td align="left">1</td>
<td align="left">2</td>
<td align="left">3</td>
<td align="left">8</td>
<td align="left">▇▆▂▂▁▁▁▁</td>
<td align="left">F6.0</td>
<td align="left">15</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Days_Deployments" class="section level3 tabset">
<h3>Days_Deployments</h3>
<p>Duration of deployments in days</p>
<div id="Days_Deployments_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Days_Deployments_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Days_Deployments_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Days_Deployments</td>
<td align="left">Duration of deployments in days</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">350.4</td>
<td align="left">260.52</td>
<td align="left">118</td>
<td align="left">180</td>
<td align="left">300</td>
<td align="left">404.5</td>
<td align="left">1460</td>
<td align="left">▇▆▁▂▁▁▁▁</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="CES_SUM_Score" class="section level3 tabset">
<h3>CES_SUM_Score</h3>
<p>Combat Experiences Scale Sum Score</p>
<div id="CES_SUM_Score_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/CES_SUM_Score_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="CES_SUM_Score_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CES_SUM_Score</td>
<td align="left">Combat Experiences Scale Sum Score</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">33.3</td>
<td align="left">14.79</td>
<td align="left">11</td>
<td align="left">20.75</td>
<td align="left">32.5</td>
<td align="left">44.25</td>
<td align="left">63</td>
<td align="left">▇▆▇▇▆▅▆▂</td>
<td align="left">F8.2</td>
<td align="left">10</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Days_Therapy" class="section level3 tabset">
<h3>Days_Therapy</h3>
<p>Duration of therapay in days</p>
<div id="Days_Therapy_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Days_Therapy_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Days_Therapy_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Days_Therapy</td>
<td align="left">Duration of therapay in days</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">21.8</td>
<td align="left">41.62</td>
<td align="left">-99</td>
<td align="left">27</td>
<td align="left">37</td>
<td align="left">40</td>
<td align="left">50</td>
<td align="left">▁▁▁▁▁▁▂▇</td>
<td align="left">F8.2</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Number_EMDR_Session" class="section level3 tabset">
<h3>Number_EMDR_Session</h3>
<p>Number of EMDR therapy sessions</p>
<div id="Number_EMDR_Session_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Number_EMDR_Session_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>4 missing values.</p>
</div>
<div id="Number_EMDR_Session_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Number_EMDR_Session</td>
<td align="left">Number of EMDR therapy sessions</td>
<td align="left">numeric</td>
<td align="left">4</td>
<td align="left">36</td>
<td align="left">40</td>
<td align="left">7.56</td>
<td align="left">2.79</td>
<td align="left">2</td>
<td align="left">5.75</td>
<td align="left">7</td>
<td align="left">9.25</td>
<td align="left">14</td>
<td align="left">▂▇▅▇▅▆▁▂</td>
<td align="left">F8.2</td>
<td align="left">13</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="TETRIS_average_time_per_days" class="section level3 tabset">
<h3>TETRIS_average_time_per_days</h3>
<p>Average time spent playing Tetris in minutes</p>
<div id="TETRIS_average_time_per_days_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/TETRIS_average_time_per_days_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>22 missing values.</p>
</div>
<div id="TETRIS_average_time_per_days_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">value_labels</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">TETRIS_average_time_per_days</td>
<td align="left">Average time spent playing Tetris in minutes</td>
<td align="left">numeric</td>
<td align="left">NA. [-99] Missing,<br>NA. [-88] Not Relevant</td>
<td align="left">22</td>
<td align="left">18</td>
<td align="left">40</td>
<td align="left">61.22</td>
<td align="left">14.56</td>
<td align="left">32.03</td>
<td align="left">53.3</td>
<td align="left">59.16</td>
<td align="left">63.48</td>
<td align="left">95</td>
<td align="left">▁▁▅▇▂▁▂▁</td>
<td align="left">F8.2</td>
<td align="left">16</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
</div>
<div id="TETRIS_average_time_per_days_labels" class="section level4">
<h4>Value labels</h4>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
<ul>
<li><strong>[-99] Missing</strong>: <em>NA</em></li>
<li><strong>[-88] Not Relevant</strong>: <em>NA</em></li>
</ul>
<!-- end of list -->
</div>
</div>
<div id="TETRIS_no_days_missed" class="section level3 tabset">
<h3>TETRIS_no_days_missed</h3>
<p>Number of days missed</p>
<div id="TETRIS_no_days_missed_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/TETRIS_no_days_missed_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>22 missing values.</p>
</div>
<div id="TETRIS_no_days_missed_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">value_labels</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">TETRIS_no_days_missed</td>
<td align="left">Number of days missed</td>
<td align="left">numeric</td>
<td align="left">NA. [-99] Missing,<br>NA. [-88] Not relevant</td>
<td align="left">22</td>
<td align="left">18</td>
<td align="left">40</td>
<td align="left">0.94</td>
<td align="left">1.16</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">0</td>
<td align="left">2</td>
<td align="left">3</td>
<td align="left">▇▁▁▁▁▃▁▂</td>
<td align="left">F8.2</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
</div>
<div id="TETRIS_no_days_missed_labels" class="section level4">
<h4>Value labels</h4>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
<ul>
<li><strong>[-99] Missing</strong>: <em>NA</em></li>
<li><strong>[-88] Not relevant</strong>: <em>NA</em></li>
</ul>
<!-- end of list -->
</div>
</div>
<div id="Interval_Pre_Post" class="section level3 tabset">
<h3>Interval_Pre_Post</h3>
<p>Interval betweeen pre therapy and post therapy assessments in days</p>
<div id="Interval_Pre_Post_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Interval_Pre_Post_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Interval_Pre_Post_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Interval_Pre_Post</td>
<td align="left">Interval betweeen pre therapy and post therapy assessments in days</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">38.33</td>
<td align="left">5.89</td>
<td align="left">22</td>
<td align="left">35</td>
<td align="left">38</td>
<td align="left">42</td>
<td align="left">56</td>
<td align="left">▁▁▂▇▇▁▁▁</td>
<td align="left">F8.2</td>
<td align="left">19</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Interval_Post_Follow_Up" class="section level3 tabset">
<h3>Interval_Post_Follow_Up</h3>
<p>Interval betweeen postherapy and follow up assessments in days</p>
<div id="Interval_Post_Follow_Up_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Interval_Post_Follow_Up_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>4 missing values.</p>
</div>
<div id="Interval_Post_Follow_Up_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Interval_Post_Follow_Up</td>
<td align="left">Interval betweeen postherapy and follow up assessments in days</td>
<td align="left">numeric</td>
<td align="left">4</td>
<td align="left">36</td>
<td align="left">40</td>
<td align="left">230.28</td>
<td align="left">107.8</td>
<td align="left">143</td>
<td align="left">173</td>
<td align="left">196.5</td>
<td align="left">223.25</td>
<td align="left">635</td>
<td align="left">▇▂▁▁▁▁▁▁</td>
<td align="left">F8.2</td>
<td align="left">25</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="TIV" class="section level3 tabset">
<h3>TIV</h3>
<p>Total Intercranial Volume</p>
<div id="TIV_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/TIV_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="TIV_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">TIV</td>
<td align="left">Total Intercranial Volume</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">1.59</td>
<td align="left">0.14</td>
<td align="left">1.3</td>
<td align="left">1.5</td>
<td align="left">1.55</td>
<td align="left">1.69</td>
<td align="left">1.92</td>
<td align="left">▂▅▇▅▇▃▂▂</td>
<td align="left">F8.2</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Pre_Cat12_Hippocampus" class="section level3 tabset">
<h3>Pre_Cat12_Hippocampus</h3>
<p>Whole Brain Analyis Hippocampal Cluster Pre Therapy</p>
<div id="Pre_Cat12_Hippocampus_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Pre_Cat12_Hippocampus_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Pre_Cat12_Hippocampus_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Pre_Cat12_Hippocampus</td>
<td align="left">Whole Brain Analyis Hippocampal Cluster Pre Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.43</td>
<td align="left">0.054</td>
<td align="left">0.32</td>
<td align="left">0.4</td>
<td align="left">0.44</td>
<td align="left">0.46</td>
<td align="left">0.56</td>
<td align="left">▁▃▃▇▆▁▁▂</td>
<td align="left">F17.4</td>
<td align="left">11</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Post_Pre_Cat12_Hippocampus" class="section level3 tabset">
<h3>Post_Pre_Cat12_Hippocampus</h3>
<p>Whole Brain Analyis Hippocampal Cluster Post Therapy</p>
<div id="Post_Pre_Cat12_Hippocampus_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Post_Pre_Cat12_Hippocampus_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Post_Pre_Cat12_Hippocampus_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Post_Pre_Cat12_Hippocampus</td>
<td align="left">Whole Brain Analyis Hippocampal Cluster Post Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.44</td>
<td align="left">0.055</td>
<td align="left">0.32</td>
<td align="left">0.4</td>
<td align="left">0.44</td>
<td align="left">0.47</td>
<td align="left">0.57</td>
<td align="left">▁▃▆▇▆▂▁▂</td>
<td align="left">F17.4</td>
<td align="left">11</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Pre_Anatomical_Hippocampus" class="section level3 tabset">
<h3>Pre_Anatomical_Hippocampus</h3>
<p>Bilateral anatomical ROI Hippocampus Pre Therapy</p>
<div id="Pre_Anatomical_Hippocampus_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Pre_Anatomical_Hippocampus_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Pre_Anatomical_Hippocampus_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Pre_Anatomical_Hippocampus</td>
<td align="left">Bilateral anatomical ROI Hippocampus Pre Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.45</td>
<td align="left">0.032</td>
<td align="left">0.38</td>
<td align="left">0.43</td>
<td align="left">0.45</td>
<td align="left">0.47</td>
<td align="left">0.53</td>
<td align="left">▁▂▃▇▅▃▁▁</td>
<td align="left">F8.2</td>
<td align="left">17</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Post_Anatomical_Hippocampus" class="section level3 tabset">
<h3>Post_Anatomical_Hippocampus</h3>
<p>Bilateral anatomical ROI Hippocampus Post Therapy</p>
<div id="Post_Anatomical_Hippocampus_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Post_Anatomical_Hippocampus_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Post_Anatomical_Hippocampus_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Post_Anatomical_Hippocampus</td>
<td align="left">Bilateral anatomical ROI Hippocampus Post Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.45</td>
<td align="left">0.031</td>
<td align="left">0.38</td>
<td align="left">0.44</td>
<td align="left">0.45</td>
<td align="left">0.47</td>
<td align="left">0.53</td>
<td align="left">▂▂▆▇▇▂▃▁</td>
<td align="left">F8.2</td>
<td align="left">18</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Pre_MetaAnalysis_Hippocampus" class="section level3 tabset">
<h3>Pre_MetaAnalysis_Hippocampus</h3>
<p>PTSD Meta Analysis Hippocampal Cluster Pre Therapy</p>
<div id="Pre_MetaAnalysis_Hippocampus_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Pre_MetaAnalysis_Hippocampus_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Pre_MetaAnalysis_Hippocampus_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Pre_MetaAnalysis_Hippocampus</td>
<td align="left">PTSD Meta Analysis Hippocampal Cluster Pre Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.53</td>
<td align="left">0.041</td>
<td align="left">0.44</td>
<td align="left">0.51</td>
<td align="left">0.53</td>
<td align="left">0.56</td>
<td align="left">0.62</td>
<td align="left">▂▂▂▇▇▆▅▂</td>
<td align="left">F17.4</td>
<td align="left">11</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Post_MetaAnalysis_Hippocampus" class="section level3 tabset">
<h3>Post_MetaAnalysis_Hippocampus</h3>
<p>PTSD Meta Analysis Hippocampal Cluster Post Therapy</p>
<div id="Post_MetaAnalysis_Hippocampus_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Post_MetaAnalysis_Hippocampus_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Post_MetaAnalysis_Hippocampus_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Post_MetaAnalysis_Hippocampus</td>
<td align="left">PTSD Meta Analysis Hippocampal Cluster Post Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.53</td>
<td align="left">0.039</td>
<td align="left">0.45</td>
<td align="left">0.51</td>
<td align="left">0.53</td>
<td align="left">0.56</td>
<td align="left">0.62</td>
<td align="left">▁▃▃▇▆▆▂▂</td>
<td align="left">F17.4</td>
<td align="left">11</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Cat12_Hippocampus_Change" class="section level3 tabset">
<h3>Cat12_Hippocampus_Change</h3>
<p>Whole Brain Analyis Hippocampal Cluster Change Post therapy minus Pre therapy</p>
<div id="Cat12_Hippocampus_Change_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Cat12_Hippocampus_Change_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Cat12_Hippocampus_Change_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Cat12_Hippocampus_Change</td>
<td align="left">Whole Brain Analyis Hippocampal Cluster Change Post therapy minus Pre therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.0051</td>
<td align="left">0.012</td>
<td align="left">-0.017</td>
<td align="left">-0.0033</td>
<td align="left">0.0036</td>
<td align="left">0.013</td>
<td align="left">0.043</td>
<td align="left">▃▆▇▆▆▁▁▁</td>
<td align="left">F8.2</td>
<td align="left">23</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="Anatomical_Hippocampus_Change" class="section level3 tabset">
<h3>Anatomical_Hippocampus_Change</h3>
<p>Bilateral anatomical ROI Hippocampus Change Post therapy minus Pre therapy</p>
<div id="Anatomical_Hippocampus_Change_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/Anatomical_Hippocampus_Change_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="Anatomical_Hippocampus_Change_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Anatomical_Hippocampus_Change</td>
<td align="left">Bilateral anatomical ROI Hippocampus Change Post therapy minus Pre therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.0012</td>
<td align="left">0.0055</td>
<td align="left">-0.01</td>
<td align="left">-0.0034</td>
<td align="left">0.0014</td>
<td align="left">0.0046</td>
<td align="left">0.016</td>
<td align="left">▁▃▃▇▅▃▁▁</td>
<td align="left">F8.6</td>
<td align="left">20</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="MetaAnalysis_Hippocampus_Change" class="section level3 tabset">
<h3>MetaAnalysis_Hippocampus_Change</h3>
<p>PTSD Meta Analysis Hippocampal Cluster Change Post therapy minus Pre therapy</p>
<div id="MetaAnalysis_Hippocampus_Change_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/MetaAnalysis_Hippocampus_Change_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="MetaAnalysis_Hippocampus_Change_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">MetaAnalysis_Hippocampus_Change</td>
<td align="left">PTSD Meta Analysis Hippocampal Cluster Change Post therapy minus Pre therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">0.002</td>
<td align="left">0.011</td>
<td align="left">-0.021</td>
<td align="left">-0.0052</td>
<td align="left">0.0021</td>
<td align="left">0.0076</td>
<td align="left">0.036</td>
<td align="left">▂▆▆▇▆▃▁▁</td>
<td align="left">F8.4</td>
<td align="left">22</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="PDS_Sum_Pre" class="section level3 tabset">
<h3>PDS_Sum_Pre</h3>
<p>Posttraumatic Diagnostic Scale Pre Therapy</p>
<div id="PDS_Sum_Pre_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/PDS_Sum_Pre_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="PDS_Sum_Pre_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PDS_Sum_Pre</td>
<td align="left">Posttraumatic Diagnostic Scale Pre Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">30.88</td>
<td align="left">8.76</td>
<td align="left">10</td>
<td align="left">24</td>
<td align="left">32</td>
<td align="left">37</td>
<td align="left">50</td>
<td align="left">▁▂▇▆▆▇▃▁</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="PDS_Sum_Post" class="section level3 tabset">
<h3>PDS_Sum_Post</h3>
<p>Posttraumatic Diagnostic Scale Post Therapy</p>
<div id="PDS_Sum_Post_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/PDS_Sum_Post_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="PDS_Sum_Post_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PDS_Sum_Post</td>
<td align="left">Posttraumatic Diagnostic Scale Post Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">27.35</td>
<td align="left">10.62</td>
<td align="left">8</td>
<td align="left">21.5</td>
<td align="left">27</td>
<td align="left">36.25</td>
<td align="left">49</td>
<td align="left">▆▃▃▇▇▃▅▂</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="PDS_Sum_Follow_Up" class="section level3 tabset">
<h3>PDS_Sum_Follow_Up</h3>
<p>Posttraumatic Diagnostic Scale Follow Up</p>
<div id="PDS_Sum_Follow_Up_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/PDS_Sum_Follow_Up_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>4 missing values.</p>
</div>
<div id="PDS_Sum_Follow_Up_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PDS_Sum_Follow_Up</td>
<td align="left">Posttraumatic Diagnostic Scale Follow Up</td>
<td align="left">numeric</td>
<td align="left">4</td>
<td align="left">36</td>
<td align="left">40</td>
<td align="left">27.61</td>
<td align="left">11.43</td>
<td align="left">2</td>
<td align="left">23.5</td>
<td align="left">29.5</td>
<td align="left">36</td>
<td align="left">50</td>
<td align="left">▂▂▂▃▇▇▃▁</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="BDI_Pre" class="section level3 tabset">
<h3>BDI_Pre</h3>
<p>Becks Depression Invetory Pre Therapy</p>
<div id="BDI_Pre_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/BDI_Pre_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="BDI_Pre_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">BDI_Pre</td>
<td align="left">Becks Depression Invetory Pre Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">20.93</td>
<td align="left">9.66</td>
<td align="left">2</td>
<td align="left">15</td>
<td align="left">18</td>
<td align="left">29</td>
<td align="left">43</td>
<td align="left">▂▃▇▇▂▃▃▂</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="BDI_Post" class="section level3 tabset">
<h3>BDI_Post</h3>
<p>Becks Depression Invetory Post Therapy</p>
<div id="BDI_Post_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/BDI_Post_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="BDI_Post_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">BDI_Post</td>
<td align="left">Becks Depression Invetory Post Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">18.2</td>
<td align="left">9.72</td>
<td align="left">3</td>
<td align="left">10.5</td>
<td align="left">16.5</td>
<td align="left">25.25</td>
<td align="left">36</td>
<td align="left">▇▇▆▅▅▆▅▆</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="BDI_Follow_Up" class="section level3 tabset">
<h3>BDI_Follow_Up</h3>
<p>Becks Depression Invetory Follow Up</p>
<div id="BDI_Follow_Up_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/BDI_Follow_Up_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>4 missing values.</p>
</div>
<div id="BDI_Follow_Up_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">BDI_Follow_Up</td>
<td align="left">Becks Depression Invetory Follow Up</td>
<td align="left">numeric</td>
<td align="left">4</td>
<td align="left">36</td>
<td align="left">40</td>
<td align="left">20.36</td>
<td align="left">11.33</td>
<td align="left">0</td>
<td align="left">12</td>
<td align="left">22</td>
<td align="left">29.75</td>
<td align="left">38</td>
<td align="left">▃▇▇▃▃▇▇▇</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="STAI_Trait_Pre" class="section level3 tabset">
<h3>STAI_Trait_Pre</h3>
<p>State Trait Anxiety Inventory Trait Scale Pre Therapy</p>
<div id="STAI_Trait_Pre_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/STAI_Trait_Pre_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="STAI_Trait_Pre_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">STAI_Trait_Pre</td>
<td align="left">State Trait Anxiety Inventory Trait Scale Pre Therapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">51.73</td>
<td align="left">11.93</td>
<td align="left">27</td>
<td align="left">42.75</td>
<td align="left">53.5</td>
<td align="left">60.25</td>
<td align="left">78</td>
<td align="left">▂▃▇▅▆▇▂▁</td>
<td align="left">F6.0</td>
<td align="left">13</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="STAI_Trait_Post" class="section level3 tabset">
<h3>STAI_Trait_Post</h3>
<p>State Trait Anxiety Inventory Trait Scale PostTherapy</p>
<div id="STAI_Trait_Post_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/STAI_Trait_Post_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>0 missing values.</p>
</div>
<div id="STAI_Trait_Post_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">STAI_Trait_Post</td>
<td align="left">State Trait Anxiety Inventory Trait Scale PostTherapy</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">40</td>
<td align="left">40</td>
<td align="left">48.73</td>
<td align="left">12.58</td>
<td align="left">24</td>
<td align="left">37.75</td>
<td align="left">46.5</td>
<td align="left">62</td>
<td align="left">67</td>
<td align="left">▂▃▃▅▃▂▂▇</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="STAI_Trait_Follow_Up" class="section level3 tabset">
<h3>STAI_Trait_Follow_Up</h3>
<p>State Trait Anxiety Inventory Trait Scale Follow Up</p>
<div id="STAI_Trait_Follow_Up_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/STAI_Trait_Follow_Up_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>4 missing values.</p>
</div>
<div id="STAI_Trait_Follow_Up_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">STAI_Trait_Follow_Up</td>
<td align="left">State Trait Anxiety Inventory Trait Scale Follow Up</td>
<td align="left">numeric</td>
<td align="left">4</td>
<td align="left">36</td>
<td align="left">40</td>
<td align="left">50.86</td>
<td align="left">12.11</td>
<td align="left">22</td>
<td align="left">43</td>
<td align="left">54</td>
<td align="left">58</td>
<td align="left">71</td>
<td align="left">▁▂▂▃▂▇▂▃</td>
<td align="left">F6.0</td>
<td align="left">6</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="PDS_Change" class="section level3 tabset">
<h3>PDS_Change</h3>
<p>Posttraumatic Diagnostic Scale Change Follow Up minus Post</p>
<div id="PDS_Change_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/PDS_Change_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>4 missing values.</p>
</div>
<div id="PDS_Change_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">PDS_Change</td>
<td align="left">Posttraumatic Diagnostic Scale Change Follow Up minus Post</td>
<td align="left">numeric</td>
<td align="left">4</td>
<td align="left">36</td>
<td align="left">40</td>
<td align="left">0.33</td>
<td align="left">7.94</td>
<td align="left">-14</td>
<td align="left">-6</td>
<td align="left">0.5</td>
<td align="left">4</td>
<td align="left">18</td>
<td align="left">▃▇▃▇▇▃▁▃</td>
<td align="left">F8.2</td>
<td align="left">12</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="BDI_Change" class="section level3 tabset">
<h3>BDI_Change</h3>
<p>Becks Depression Invetory Pre Change Follow Up minus Post</p>
<div id="BDI_Change_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/BDI_Change_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>4 missing values.</p>
</div>
<div id="BDI_Change_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">BDI_Change</td>
<td align="left">Becks Depression Invetory Pre Change Follow Up minus Post</td>
<td align="left">numeric</td>
<td align="left">4</td>
<td align="left">36</td>
<td align="left">40</td>
<td align="left">1.92</td>
<td align="left">8.81</td>
<td align="left">-13</td>
<td align="left">-3.5</td>
<td align="left">1</td>
<td align="left">5.25</td>
<td align="left">23</td>
<td align="left">▂▃▃▇▁▂▁▁</td>
<td align="left">F8.2</td>
<td align="left">12</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
</div>
</div>
<div id="STAI_Trait_Change" class="section level3 tabset">
<h3>STAI_Trait_Change</h3>
<p>State Trait Anxiety Inventory Trait Scale Change Follow Up minus Post</p>
<div id="STAI_Trait_Change_distribution" class="section level4">
<h4>Distribution</h4>
<pre class="r"><code>show_missing_values &lt;- FALSE
if (has_labels(item)) {
  missing_values &lt;- item[is.na(haven::zap_missing(item))]
  attributes(missing_values) &lt;- attributes(item)
  if (!is.null(attributes(item)$labels)) {
    attributes(missing_values)$labels &lt;- attributes(missing_values)$labels[is.na(attributes(missing_values)$labels)]
    attributes(item)$labels &lt;- attributes(item)$labels[!is.na(attributes(item)$labels)]
  }
  if (is.double(item)) {
    show_missing_values &lt;- length(unique(haven::na_tag(missing_values))) &gt; 1
    item &lt;- haven::zap_missing(item)
  }
  if (length(item_attributes$labels) == 0 &amp;&amp; is.numeric(item)) {
    item &lt;- haven::zap_labels(item)
  }
}
item_nomiss &lt;- item[!is.na(item)]

# unnest mc_multiple and so on
if (
  is.character(item_nomiss) &amp;&amp;
  stringr::str_detect(item_nomiss, stringr::fixed(&quot;, &quot;)) &amp;&amp;
  (exists(&quot;type&quot;, item_info) &amp;&amp; 
    stringr::str_detect(item_info$type, pattern = stringr::fixed(&quot;multiple&quot;)))
  ) {
  item_nomiss &lt;- unlist(stringr::str_split(item_nomiss, pattern = stringr::fixed(&quot;, &quot;)))
}
attributes(item_nomiss) &lt;- attributes(item)

old_height &lt;- knitr::opts_chunk$get(&quot;fig.height&quot;)
non_missing_choices &lt;- item_attributes[[&quot;labels&quot;]]
many_labels &lt;- length(non_missing_choices) &gt; 7
go_vertical &lt;- !is.numeric(item_nomiss) || many_labels
if ( go_vertical ) {
  # numeric items are plotted horizontally (because that&#39;s what usually expected)
  # categorical items are plotted vertically because we can use the screen real estate better this way

    if (is.null(choices) || 
        dplyr::n_distinct(item_nomiss) &gt; length(non_missing_choices)) {
        non_missing_choices &lt;- unique(item_nomiss)
        names(non_missing_choices) &lt;- non_missing_choices
    }
  choice_multiplier &lt;- old_height/6.5
    new_height &lt;- 2 + choice_multiplier * length(non_missing_choices)
    new_height &lt;- ifelse(new_height &gt; 20, 20, new_height)
    new_height &lt;- ifelse(new_height &lt; 1, 1, new_height)
    knitr::opts_chunk$set(fig.height = new_height)
}

wrap_at &lt;- knitr::opts_chunk$get(&quot;fig.width&quot;) * 10</code></pre>
<pre class="r"><code># todo: if there are free-text choices mingled in with the pre-defined ones, don&#39;t show
# todo: show rare items if they are pre-defined
# todo: bin rare responses into &quot;other category&quot;
if (!length(item_nomiss)) {
  cat(&quot;No non-missing values to show.&quot;)
} else if (is.numeric(item_nomiss) || dplyr::n_distinct(item_nomiss) &lt; 20) {
  plot_labelled(item_nomiss, item_name, wrap_at, go_vertical)
} else {
    cat(dplyr::n_distinct(item_nomiss), &quot; unique, categorical values, so not shown.&quot;)
}</code></pre>
<p><img src="Trauma_Treatment_and_Tetris_files/figure-html/STAI_Trait_Change_distribution-1.png" width="672" /></p>
<pre class="r"><code>knitr::opts_chunk$set(fig.height = old_height)</code></pre>
<p>4 missing values.</p>
</div>
<div id="STAI_Trait_Change_summary" class="section level4">
<h4>Summary statistics</h4>
<pre class="r"><code>attributes(item) &lt;- item_attributes
df = data.frame(item, stringsAsFactors = FALSE)
names(df) = html_item_name
escaped_table(codebook_table(df))</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">label</th>
<th align="left">data_type</th>
<th align="left">missing</th>
<th align="left">complete</th>
<th align="left">n</th>
<th align="left">mean</th>
<th align="left">sd</th>
<th align="left">p0</th>
<th align="left">p25</th>
<th align="left">p50</th>
<th align="left">p75</th>
<th align="left">p100</th>
<th align="left">hist</th>
<th align="left">format.spss</th>
<th align="left">display_width</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">STAI_Trait_Change</td>
<td align="left">State Trait Anxiety Inventory Trait Scale Change Follow Up minus Post</td>
<td align="left">numeric</td>
<td align="left">4</td>
<td align="left">36</td>
<td align="left">40</td>
<td align="left">2.22</td>
<td align="left">9.78</td>
<td align="left">-17</td>
<td align="left">-2.25</td>
<td align="left">2.5</td>
<td align="left">7.25</td>
<td align="left">25</td>
<td align="left">▃▂▃▇▅▂▂▂</td>
<td align="left">F8.2</td>
<td align="left">19</td>
</tr>
</tbody>
</table>
<pre class="r"><code>if (show_missing_values) {
  plot_labelled(missing_values, item_name, wrap_at)
}</code></pre>
<pre class="r"><code>if (!is.null(item_info)) {
  # don&#39;t show choices again, if they&#39;re basically same thing as value labels
  if (!is.null(choices) &amp;&amp; !is.null(item_info$choices) &amp;&amp; 
    all(names(na.omit(choices)) == item_info$choices) &amp;&amp;
    all(na.omit(choices) == names(item_info$choices))) {
    item_info$choices &lt;- NULL
  }
  item_info$label_parsed &lt;- 
    item_info$choice_list &lt;- item_info$study_id &lt;- item_info$id &lt;- NULL
  pander::pander(item_info)
}</code></pre>
<pre class="r"><code>if (!is.null(choices) &amp;&amp; length(choices) &amp;&amp; length(choices) &lt; 30) {
    pander::pander(as.list(choices))
}</code></pre>
<pre class="r"><code>missingness_report</code></pre>
</div>
</div>
</div>
<div id="missingness-report" class="section level2">
<h2>Missingness report</h2>
<p>Among those who finished the survey. Only variables that have missing values are shown.</p>
<pre class="r"><code>if (  exists(&quot;ended&quot;, results) &amp;&amp;
  exists(&quot;expired&quot;, results)) {
  finisher_results &lt;- dplyr::filter(results, !is.na(.data$ended))
} else {
  finisher_results &lt;- results
  warning(&quot;Could not figure out who finished the surveys, because the &quot;,
          &quot;variables expired and ended were missing.&quot;)
}</code></pre>
<pre><code>## Warning: Could not figure out who finished the surveys, because the
## variables expired and ended were missing.</code></pre>
<pre class="r"><code>if (length(md_pattern)) {
  pander::pander(md_pattern)
}</code></pre>
<table>
<colgroup>
<col width="12%" />
<col width="8%" />
<col width="9%" />
<col width="7%" />
<col width="6%" />
<col width="8%" />
<col width="4%" />
<col width="4%" />
<col width="7%" />
<col width="11%" />
<col width="9%" />
<col width="4%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">description</th>
<th align="center">Number_EMDR_Session</th>
<th align="center">Interval_Post_Follow_Up</th>
<th align="center">PDS_Sum_Follow_Up</th>
<th align="center">BDI_Follow_Up</th>
<th align="center">STAI_Trait_Follow_Up</th>
<th align="center">PDS_Change</th>
<th align="center">BDI_Change</th>
<th align="center">STAI_Trait_Change</th>
<th align="center">TETRIS_average_time_per_days</th>
<th align="center">TETRIS_no_days_missed</th>
<th align="center">var_miss</th>
<th align="center">n_miss</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Missing values per variable</td>
<td align="center">4</td>
<td align="center">4</td>
<td align="center">4</td>
<td align="center">4</td>
<td align="center">4</td>
<td align="center">4</td>
<td align="center">4</td>
<td align="center">4</td>
<td align="center">22</td>
<td align="center">22</td>
<td align="center">76</td>
<td align="center">76</td>
</tr>
<tr class="even">
<td align="center">Missing values in 2 variables</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">17</td>
</tr>
<tr class="odd">
<td align="center">Missing values in 0 variables</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">16</td>
</tr>
<tr class="even">
<td align="center">Missing values in 3 variables</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">3</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center">Missing values in 7 variables</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">7</td>
<td align="center">2</td>
</tr>
<tr class="even">
<td align="center">Missing values in 9 variables</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">9</td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center">Missing values in 10 variables</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">10</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<pre class="r"><code>items</code></pre>
</div>
<div id="codebook-table" class="section level2">
<h2>Codebook table</h2>
<pre class="r"><code>export_table(metadata_table)</code></pre>
<div id="htmlwidget-940a8faa2f64895b6ef3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-940a8faa2f64895b6ef3">{"x":{"filter":"top","filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","extensions":["Buttons"],"data":[["<a href=\"#ID\">ID<\/a>","<a href=\"#Group\">Group<\/a>","<a href=\"#Gender\">Gender<\/a>","<a href=\"#Age_Years\">Age_Years<\/a>","<a href=\"#No_Deployments\">No_Deployments<\/a>","<a href=\"#Days_Deployments\">Days_Deployments<\/a>","<a href=\"#CES_SUM_Score\">CES_SUM_Score<\/a>","<a href=\"#Days_Therapy\">Days_Therapy<\/a>","<a href=\"#Number_EMDR_Session\">Number_EMDR_Session<\/a>","<a href=\"#TETRIS_average_time_per_days\">TETRIS_average_time_per_days<\/a>","<a href=\"#TETRIS_no_days_missed\">TETRIS_no_days_missed<\/a>","<a href=\"#Interval_Pre_Post\">Interval_Pre_Post<\/a>","<a href=\"#Interval_Post_Follow_Up\">Interval_Post_Follow_Up<\/a>","<a href=\"#TIV\">TIV<\/a>","<a href=\"#Pre_Cat12_Hippocampus\">Pre_Cat12_Hippocampus<\/a>","<a href=\"#Post_Pre_Cat12_Hippocampus\">Post_Pre_Cat12_Hippocampus<\/a>","<a href=\"#Pre_Anatomical_Hippocampus\">Pre_Anatomical_Hippocampus<\/a>","<a href=\"#Post_Anatomical_Hippocampus\">Post_Anatomical_Hippocampus<\/a>","<a href=\"#Pre_MetaAnalysis_Hippocampus\">Pre_MetaAnalysis_Hippocampus<\/a>","<a href=\"#Post_MetaAnalysis_Hippocampus\">Post_MetaAnalysis_Hippocampus<\/a>","<a href=\"#Cat12_Hippocampus_Change\">Cat12_Hippocampus_Change<\/a>","<a href=\"#Anatomical_Hippocampus_Change\">Anatomical_Hippocampus_Change<\/a>","<a href=\"#MetaAnalysis_Hippocampus_Change\">MetaAnalysis_Hippocampus_Change<\/a>","<a href=\"#PDS_Sum_Pre\">PDS_Sum_Pre<\/a>","<a href=\"#PDS_Sum_Post\">PDS_Sum_Post<\/a>","<a href=\"#PDS_Sum_Follow_Up\">PDS_Sum_Follow_Up<\/a>","<a href=\"#BDI_Pre\">BDI_Pre<\/a>","<a href=\"#BDI_Post\">BDI_Post<\/a>","<a href=\"#BDI_Follow_Up\">BDI_Follow_Up<\/a>","<a href=\"#STAI_Trait_Pre\">STAI_Trait_Pre<\/a>","<a href=\"#STAI_Trait_Post\">STAI_Trait_Post<\/a>","<a href=\"#STAI_Trait_Follow_Up\">STAI_Trait_Follow_Up<\/a>","<a href=\"#PDS_Change\">PDS_Change<\/a>","<a href=\"#BDI_Change\">BDI_Change<\/a>","<a href=\"#STAI_Trait_Change\">STAI_Trait_Change<\/a>"],["Participant ID","Participant Group","Gender","Ager in years","Number of Deployments","Duration of deployments in days","Combat Experiences Scale Sum Score","Duration of therapay in days","Number of EMDR therapy sessions","Average time spent playing Tetris in minutes","Number of days missed","Interval betweeen pre therapy and post therapy assessments in days","Interval betweeen postherapy and follow up assessments in days","Total Intercranial Volume","Whole Brain Analyis Hippocampal Cluster Pre Therapy","Whole Brain Analyis Hippocampal Cluster Post Therapy","Bilateral anatomical ROI Hippocampus Pre Therapy","Bilateral anatomical ROI Hippocampus Post Therapy","PTSD Meta Analysis Hippocampal Cluster Pre Therapy","PTSD Meta Analysis Hippocampal Cluster Post Therapy","Whole Brain Analyis Hippocampal Cluster Change Post therapy minus Pre therapy","Bilateral anatomical ROI Hippocampus Change Post therapy minus Pre therapy","PTSD Meta Analysis Hippocampal Cluster Change Post therapy minus Pre therapy","Posttraumatic Diagnostic Scale Pre Therapy","Posttraumatic Diagnostic Scale Post Therapy","Posttraumatic Diagnostic Scale Follow Up","Becks Depression Invetory Pre Therapy","Becks Depression Invetory Post Therapy","Becks Depression Invetory Follow Up","State Trait Anxiety Inventory Trait Scale Pre Therapy","State Trait Anxiety Inventory Trait Scale PostTherapy","State Trait Anxiety Inventory Trait Scale Follow Up","Posttraumatic Diagnostic Scale Change Follow Up minus Post","Becks Depression Invetory Pre Change Follow Up minus Post","State Trait Anxiety Inventory Trait Scale Change Follow Up minus Post"],["character","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric","numeric"],[null,"1. Spieler,<br>2. Kontrollgruppe","1. Male,<br>NA. [2] Female",null,null,null,null,null,null,"NA. [-99] Missing,<br>NA. [-88] Not Relevant","NA. [-99] Missing,<br>NA. [-88] Not relevant",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["0","0","0","0","0","0","0","0","4","22","22","0","4","0","0","0","0","0","0","0","0","0","0","0","0","4","0","0","4","0","0","4","4","4","4"],["40","40","40","40","40","40","40","40","36","18","18","40","36","40","40","40","40","40","40","40","40","40","40","40","40","36","40","40","36","40","40","36","36","36","36"],["40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40","40"],["0",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["40",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["6",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],["6",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,"  1.5   ","  1     "," 33.42  ","  2.42  ","350.4   "," 33.3   "," 21.8   ","  7.56  "," 61.22  ","  0.94  "," 38.33  ","230.28  ","  1.59  ","  0.43  ","  0.44  ","  0.45  ","  0.45  ","  0.53  ","  0.53  ","  0.0051","  0.0012","  0.002 "," 30.88  "," 27.35  "," 27.61  "," 20.93  "," 18.2   "," 20.36  "," 51.73  "," 48.73  "," 50.86  ","  0.33  ","  1.92  ","  2.22  "],[null,"  0.51  ","  0     ","  6.31  ","  1.75  ","260.52  "," 14.79  "," 41.62  ","  2.79  "," 14.56  ","  1.16  ","  5.89  ","107.8   ","  0.14  ","  0.054 ","  0.055 ","  0.032 ","  0.031 ","  0.041 ","  0.039 ","  0.012 ","  0.0055","  0.011 ","  8.76  "," 10.62  "," 11.43  ","  9.66  ","  9.72  "," 11.33  "," 11.93  "," 12.58  "," 12.11  ","  7.94  ","  8.81  ","  9.78  "],[null,"  1    ","  1    "," 24    ","  1    ","118    "," 11    ","-99    ","  2    "," 32.03 ","  0    "," 22    ","143    ","  1.3  ","  0.32 ","  0.32 ","  0.38 ","  0.38 ","  0.44 ","  0.45 "," -0.017"," -0.01 "," -0.021"," 10    ","  8    ","  2    ","  2    ","  3    ","  0    "," 27    "," 24    "," 22    ","-14    ","-13    ","-17    "],[null,"  1     ","  1     "," 29.75  ","  1     ","180     "," 20.75  "," 27     ","  5.75  "," 53.3   ","  0     "," 35     ","173     ","  1.5   ","  0.4   ","  0.4   ","  0.43  ","  0.44  ","  0.51  ","  0.51  "," -0.0033"," -0.0034"," -0.0052"," 24     "," 21.5   "," 23.5   "," 15     "," 10.5   "," 12     "," 42.75  "," 37.75  "," 43     "," -6     "," -3.5   "," -2.25  "],[null,"  1.5   ","  1     "," 32.5   ","  2     ","300     "," 32.5   "," 37     ","  7     "," 59.16  ","  0     "," 38     ","196.5   ","  1.55  ","  0.44  ","  0.44  ","  0.45  ","  0.45  ","  0.53  ","  0.53  ","  0.0036","  0.0014","  0.0021"," 32     "," 27     "," 29.5   "," 18     "," 16.5   "," 22     "," 53.5   "," 46.5   "," 54     ","  0.5   ","  1     ","  2.5   "],[null,"  2     ","  1     "," 35     ","  3     ","404.5   "," 44.25  "," 40     ","  9.25  "," 63.48  ","  2     "," 42     ","223.25  ","  1.69  ","  0.46  ","  0.47  ","  0.47  ","  0.47  ","  0.56  ","  0.56  ","  0.013 ","  0.0046","  0.0076"," 37     "," 36.25  "," 36     "," 29     "," 25.25  "," 29.75  "," 60.25  "," 62     "," 58     ","  4     ","  5.25  ","  7.25  "],[null,"   2    ","   1    ","  56    ","   8    ","1460    ","  63    ","  50    ","  14    ","  95    ","   3    ","  56    "," 635    ","   1.92 ","   0.56 ","   0.57 ","   0.53 ","   0.53 ","   0.62 ","   0.62 ","   0.043","   0.016","   0.036","  50    ","  49    ","  50    ","  43    ","  36    ","  38    ","  78    ","  67    ","  71    ","  18    ","  23    ","  25    "],[null,"▇▁▁▁▁▁▁▇","▁▁▁▇▁▁▁▁","▆▇▇▁▂▁▁▁","▇▆▂▂▁▁▁▁","▇▆▁▂▁▁▁▁","▇▆▇▇▆▅▆▂","▁▁▁▁▁▁▂▇","▂▇▅▇▅▆▁▂","▁▁▅▇▂▁▂▁","▇▁▁▁▁▃▁▂","▁▁▂▇▇▁▁▁","▇▂▁▁▁▁▁▁","▂▅▇▅▇▃▂▂","▁▃▃▇▆▁▁▂","▁▃▆▇▆▂▁▂","▁▂▃▇▅▃▁▁","▂▂▆▇▇▂▃▁","▂▂▂▇▇▆▅▂","▁▃▃▇▆▆▂▂","▃▆▇▆▆▁▁▁","▁▃▃▇▅▃▁▁","▂▆▆▇▆▃▁▁","▁▂▇▆▆▇▃▁","▆▃▃▇▇▃▅▂","▂▂▂▃▇▇▃▁","▂▃▇▇▂▃▃▂","▇▇▆▅▅▆▅▆","▃▇▇▃▃▇▇▇","▂▃▇▅▆▇▂▁","▂▃▃▅▃▂▂▇","▁▂▂▃▂▇▂▃","▃▇▃▇▇▃▁▃","▂▃▃▇▁▂▁▁","▃▂▃▇▅▂▂▂"],["A10","F6.2","F8.2","F6.0","F6.0","F6.0","F8.2","F8.2","F8.2","F8.2","F8.2","F8.2","F8.2","F8.2","F17.4","F17.4","F8.2","F8.2","F17.4","F17.4","F8.2","F8.6","F8.4","F6.0","F6.0","F6.0","F6.0","F6.0","F6.0","F6.0","F6.0","F6.0","F8.2","F8.2","F8.2"],["10","27",null,"6","15","6","10",null,"13","16",null,"19","25",null,"11","11","17","18","11","11","23","20","22","6","6","6","6","6","6","13","6","6","12","12","19"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>name<\/th>\n      <th>label<\/th>\n      <th>data_type<\/th>\n      <th>value_labels<\/th>\n      <th>missing<\/th>\n      <th>complete<\/th>\n      <th>n<\/th>\n      <th>empty<\/th>\n      <th>n_unique<\/th>\n      <th>min<\/th>\n      <th>max<\/th>\n      <th>mean<\/th>\n      <th>sd<\/th>\n      <th>p0<\/th>\n      <th>p25<\/th>\n      <th>p50<\/th>\n      <th>p75<\/th>\n      <th>p100<\/th>\n      <th>hist<\/th>\n      <th>format.spss<\/th>\n      <th>display_width<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"pageLength":200,"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[10,25,50,100,200]}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>jsonld</code></pre>
<script type="application/ld+json">
{
  "name": "Trauma, Treatment and Tetris: video gaming increases hippocampal volume in combat-related post-traumatic stress disorder",
  "description": "\n\n\n### Download link\n[Open Science Framework](https://osf.io/xmd67/download)\n\n\n\n\n## Table of variables\nThis table contains variable names, labels, their central tendencies and other attributes.\n\n|name                            |label                                                                         |data_type |value_labels                              |missing |complete |n  |empty |n_unique |min |max |mean   |sd     |p0     |p25     |p50    |p75    |p100  |hist     |format.spss |display_width |\n|:-------------------------------|:-----------------------------------------------------------------------------|:---------|:-----------------------------------------|:-------|:--------|:--|:-----|:--------|:---|:---|:------|:------|:------|:-------|:------|:------|:-----|:--------|:-----------|:-------------|\n|ID                              |Participant ID                                                                |character |NA                                        |0       |40       |40 |0     |40       |6   |6   |NA     |NA     |NA     |NA      |NA     |NA     |NA    |NA       |A10         |10            |\n|Group                           |Participant Group                                                             |numeric   |1. Spieler, - 2. Kontrollgruppe             |0       |40       |40 |NA    |NA       |NA  |NA  |1.5    |0.51   |1      |1       |1.5    |2      |2     |▇▁▁▁▁▁▁▇ |F6.2        |27            |\n|Gender                          |Gender                                                                        |numeric   |1. Male, - NA. [2] Female                   |0       |40       |40 |NA    |NA       |NA  |NA  |1      |0      |1      |1       |1      |1      |1     |▁▁▁▇▁▁▁▁ |F8.2        |NA            |\n|Age_Years                       |Ager in years                                                                 |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |33.42  |6.31   |24     |29.75   |32.5   |35     |56    |▆▇▇▁▂▁▁▁ |F6.0        |6             |\n|No_Deployments                  |Number of Deployments                                                         |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |2.42   |1.75   |1      |1       |2      |3      |8     |▇▆▂▂▁▁▁▁ |F6.0        |15            |\n|Days_Deployments                |Duration of deployments in days                                               |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |350.4  |260.52 |118    |180     |300    |404.5  |1460  |▇▆▁▂▁▁▁▁ |F6.0        |6             |\n|CES_SUM_Score                   |Combat Experiences Scale Sum Score                                            |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |33.3   |14.79  |11     |20.75   |32.5   |44.25  |63    |▇▆▇▇▆▅▆▂ |F8.2        |10            |\n|Days_Therapy                    |Duration of therapay in days                                                  |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |21.8   |41.62  |-99    |27      |37     |40     |50    |▁▁▁▁▁▁▂▇ |F8.2        |NA            |\n|Number_EMDR_Session             |Number of EMDR therapy sessions                                               |numeric   |NA                                        |4       |36       |40 |NA    |NA       |NA  |NA  |7.56   |2.79   |2      |5.75    |7      |9.25   |14    |▂▇▅▇▅▆▁▂ |F8.2        |13            |\n|TETRIS_average_time_per_days    |Average time spent playing Tetris in minutes                                  |numeric   |NA. [-99] Missing, - NA. [-88] Not Relevant |22      |18       |40 |NA    |NA       |NA  |NA  |61.22  |14.56  |32.03  |53.3    |59.16  |63.48  |95    |▁▁▅▇▂▁▂▁ |F8.2        |16            |\n|TETRIS_no_days_missed           |Number of days missed                                                         |numeric   |NA. [-99] Missing, - NA. [-88] Not relevant |22      |18       |40 |NA    |NA       |NA  |NA  |0.94   |1.16   |0      |0       |0      |2      |3     |▇▁▁▁▁▃▁▂ |F8.2        |NA            |\n|Interval_Pre_Post               |Interval betweeen pre therapy and post therapy assessments in days            |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |38.33  |5.89   |22     |35      |38     |42     |56    |▁▁▂▇▇▁▁▁ |F8.2        |19            |\n|Interval_Post_Follow_Up         |Interval betweeen postherapy and follow up assessments in days                |numeric   |NA                                        |4       |36       |40 |NA    |NA       |NA  |NA  |230.28 |107.8  |143    |173     |196.5  |223.25 |635   |▇▂▁▁▁▁▁▁ |F8.2        |25            |\n|TIV                             |Total Intercranial Volume                                                     |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |1.59   |0.14   |1.3    |1.5     |1.55   |1.69   |1.92  |▂▅▇▅▇▃▂▂ |F8.2        |NA            |\n|Pre_Cat12_Hippocampus           |Whole Brain Analyis Hippocampal Cluster Pre Therapy                           |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.43   |0.054  |0.32   |0.4     |0.44   |0.46   |0.56  |▁▃▃▇▆▁▁▂ |F17.4       |11            |\n|Post_Pre_Cat12_Hippocampus      |Whole Brain Analyis Hippocampal Cluster Post Therapy                          |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.44   |0.055  |0.32   |0.4     |0.44   |0.47   |0.57  |▁▃▆▇▆▂▁▂ |F17.4       |11            |\n|Pre_Anatomical_Hippocampus      |Bilateral anatomical ROI Hippocampus Pre Therapy                              |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.45   |0.032  |0.38   |0.43    |0.45   |0.47   |0.53  |▁▂▃▇▅▃▁▁ |F8.2        |17            |\n|Post_Anatomical_Hippocampus     |Bilateral anatomical ROI Hippocampus Post Therapy                             |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.45   |0.031  |0.38   |0.44    |0.45   |0.47   |0.53  |▂▂▆▇▇▂▃▁ |F8.2        |18            |\n|Pre_MetaAnalysis_Hippocampus    |PTSD Meta Analysis Hippocampal Cluster Pre Therapy                            |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.53   |0.041  |0.44   |0.51    |0.53   |0.56   |0.62  |▂▂▂▇▇▆▅▂ |F17.4       |11            |\n|Post_MetaAnalysis_Hippocampus   |PTSD Meta Analysis Hippocampal Cluster Post Therapy                           |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.53   |0.039  |0.45   |0.51    |0.53   |0.56   |0.62  |▁▃▃▇▆▆▂▂ |F17.4       |11            |\n|Cat12_Hippocampus_Change        |Whole Brain Analyis Hippocampal Cluster Change Post therapy minus Pre therapy |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.0051 |0.012  |-0.017 |-0.0033 |0.0036 |0.013  |0.043 |▃▆▇▆▆▁▁▁ |F8.2        |23            |\n|Anatomical_Hippocampus_Change   |Bilateral anatomical ROI Hippocampus Change Post therapy minus Pre therapy    |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.0012 |0.0055 |-0.01  |-0.0034 |0.0014 |0.0046 |0.016 |▁▃▃▇▅▃▁▁ |F8.6        |20            |\n|MetaAnalysis_Hippocampus_Change |PTSD Meta Analysis Hippocampal Cluster Change Post therapy minus Pre therapy  |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |0.002  |0.011  |-0.021 |-0.0052 |0.0021 |0.0076 |0.036 |▂▆▆▇▆▃▁▁ |F8.4        |22            |\n|PDS_Sum_Pre                     |Posttraumatic Diagnostic Scale Pre Therapy                                    |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |30.88  |8.76   |10     |24      |32     |37     |50    |▁▂▇▆▆▇▃▁ |F6.0        |6             |\n|PDS_Sum_Post                    |Posttraumatic Diagnostic Scale Post Therapy                                   |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |27.35  |10.62  |8      |21.5    |27     |36.25  |49    |▆▃▃▇▇▃▅▂ |F6.0        |6             |\n|PDS_Sum_Follow_Up               |Posttraumatic Diagnostic Scale Follow Up                                      |numeric   |NA                                        |4       |36       |40 |NA    |NA       |NA  |NA  |27.61  |11.43  |2      |23.5    |29.5   |36     |50    |▂▂▂▃▇▇▃▁ |F6.0        |6             |\n|BDI_Pre                         |Becks Depression Invetory Pre Therapy                                         |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |20.93  |9.66   |2      |15      |18     |29     |43    |▂▃▇▇▂▃▃▂ |F6.0        |6             |\n|BDI_Post                        |Becks Depression Invetory Post Therapy                                        |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |18.2   |9.72   |3      |10.5    |16.5   |25.25  |36    |▇▇▆▅▅▆▅▆ |F6.0        |6             |\n|BDI_Follow_Up                   |Becks Depression Invetory Follow Up                                           |numeric   |NA                                        |4       |36       |40 |NA    |NA       |NA  |NA  |20.36  |11.33  |0      |12      |22     |29.75  |38    |▃▇▇▃▃▇▇▇ |F6.0        |6             |\n|STAI_Trait_Pre                  |State Trait Anxiety Inventory Trait Scale Pre Therapy                         |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |51.73  |11.93  |27     |42.75   |53.5   |60.25  |78    |▂▃▇▅▆▇▂▁ |F6.0        |13            |\n|STAI_Trait_Post                 |State Trait Anxiety Inventory Trait Scale PostTherapy                         |numeric   |NA                                        |0       |40       |40 |NA    |NA       |NA  |NA  |48.73  |12.58  |24     |37.75   |46.5   |62     |67    |▂▃▃▅▃▂▂▇ |F6.0        |6             |\n|STAI_Trait_Follow_Up            |State Trait Anxiety Inventory Trait Scale Follow Up                           |numeric   |NA                                        |4       |36       |40 |NA    |NA       |NA  |NA  |50.86  |12.11  |22     |43      |54     |58     |71    |▁▂▂▃▂▇▂▃ |F6.0        |6             |\n|PDS_Change                      |Posttraumatic Diagnostic Scale Change Follow Up minus Post                    |numeric   |NA                                        |4       |36       |40 |NA    |NA       |NA  |NA  |0.33   |7.94   |-14    |-6      |0.5    |4      |18    |▃▇▃▇▇▃▁▃ |F8.2        |12            |\n|BDI_Change                      |Becks Depression Invetory Pre Change Follow Up minus Post                     |numeric   |NA                                        |4       |36       |40 |NA    |NA       |NA  |NA  |1.92   |8.81   |-13    |-3.5    |1      |5.25   |23    |▂▃▃▇▁▂▁▁ |F8.2        |12            |\n|STAI_Trait_Change               |State Trait Anxiety Inventory Trait Scale Change Follow Up minus Post         |numeric   |NA                                        |4       |36       |40 |NA    |NA       |NA  |NA  |2.22   |9.78   |-17    |-2.25   |2.5    |7.25   |25    |▃▂▃▇▅▂▂▂ |F8.2        |19            |\n\n### Note\nThis dataset was automatically described using the [codebook R package](https://rubenarslan.github.io/codebook/).",
  "identifier": "https://osf.io/xz32u/",
  "datePublished": "2018-02-07",
  "url": "https://osf.io/xmd67/",
  "temporalCoverage": "2018",
  "distribution": [
    {
      "@type": "DataDownload",
      "requiresSubscription": "http://schema.org/True",
      "encodingFormat": "https://www.loc.gov/preservation/digital/formats/fdd/fdd000469.shtml",
      "contentUrl": "https://osf.io/xmd67/download"
    }
  ],
  "keywords": ["ID", "Group", "Gender", "Age_Years", "No_Deployments", "Days_Deployments", "CES_SUM_Score", "Days_Therapy", "Number_EMDR_Session", "TETRIS_average_time_per_days", "TETRIS_no_days_missed", "Interval_Pre_Post", "Interval_Post_Follow_Up", "TIV", "Pre_Cat12_Hippocampus", "Post_Pre_Cat12_Hippocampus", "Pre_Anatomical_Hippocampus", "Post_Anatomical_Hippocampus", "Pre_MetaAnalysis_Hippocampus", "Post_MetaAnalysis_Hippocampus", "Cat12_Hippocampus_Change", "Anatomical_Hippocampus_Change", "MetaAnalysis_Hippocampus_Change", "PDS_Sum_Pre", "PDS_Sum_Post", "PDS_Sum_Follow_Up", "BDI_Pre", "BDI_Post", "BDI_Follow_Up", "STAI_Trait_Pre", "STAI_Trait_Post", "STAI_Trait_Follow_Up", "PDS_Change", "BDI_Change", "STAI_Trait_Change"],
  "@context": "http://schema.org/",
  "@type": "Dataset",
  "variableMeasured": [
    {
      "name": "ID",
      "description": "Participant ID",
      "@type": "propertyValue"
    },
    {
      "name": "Group",
      "description": "Participant Group",
      "value": "1. Spieler,\n2. Kontrollgruppe",
      "maxValue": 2,
      "minValue": 1,
      "@type": "propertyValue"
    },
    {
      "name": "Gender",
      "description": "Gender",
      "value": "1. Male,\nNA. [2] Female",
      "maxValue": 1,
      "minValue": 1,
      "@type": "propertyValue"
    },
    {
      "name": "Age_Years",
      "description": "Ager in years",
      "@type": "propertyValue"
    },
    {
      "name": "No_Deployments",
      "description": "Number of Deployments",
      "@type": "propertyValue"
    },
    {
      "name": "Days_Deployments",
      "description": "Duration of deployments in days",
      "@type": "propertyValue"
    },
    {
      "name": "CES_SUM_Score",
      "description": "Combat Experiences Scale Sum Score",
      "@type": "propertyValue"
    },
    {
      "name": "Days_Therapy",
      "description": "Duration of therapay in days",
      "@type": "propertyValue"
    },
    {
      "name": "Number_EMDR_Session",
      "description": "Number of EMDR therapy sessions",
      "@type": "propertyValue"
    },
    {
      "name": "TETRIS_average_time_per_days",
      "description": "Average time spent playing Tetris in minutes",
      "value": "NA. [-99] Missing,\nNA. [-88] Not Relevant",
      "maxValue": "-Inf",
      "minValue": "Inf",
      "@type": "propertyValue"
    },
    {
      "name": "TETRIS_no_days_missed",
      "description": "Number of days missed",
      "value": "NA. [-99] Missing,\nNA. [-88] Not relevant",
      "maxValue": "-Inf",
      "minValue": "Inf",
      "@type": "propertyValue"
    },
    {
      "name": "Interval_Pre_Post",
      "description": "Interval betweeen pre therapy and post therapy assessments in days",
      "@type": "propertyValue"
    },
    {
      "name": "Interval_Post_Follow_Up",
      "description": "Interval betweeen postherapy and follow up assessments in days",
      "@type": "propertyValue"
    },
    {
      "name": "TIV",
      "description": "Total Intercranial Volume",
      "@type": "propertyValue"
    },
    {
      "name": "Pre_Cat12_Hippocampus",
      "description": "Whole Brain Analyis Hippocampal Cluster Pre Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "Post_Pre_Cat12_Hippocampus",
      "description": "Whole Brain Analyis Hippocampal Cluster Post Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "Pre_Anatomical_Hippocampus",
      "description": "Bilateral anatomical ROI Hippocampus Pre Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "Post_Anatomical_Hippocampus",
      "description": "Bilateral anatomical ROI Hippocampus Post Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "Pre_MetaAnalysis_Hippocampus",
      "description": "PTSD Meta Analysis Hippocampal Cluster Pre Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "Post_MetaAnalysis_Hippocampus",
      "description": "PTSD Meta Analysis Hippocampal Cluster Post Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "Cat12_Hippocampus_Change",
      "description": "Whole Brain Analyis Hippocampal Cluster Change Post therapy minus Pre therapy",
      "@type": "propertyValue"
    },
    {
      "name": "Anatomical_Hippocampus_Change",
      "description": "Bilateral anatomical ROI Hippocampus Change Post therapy minus Pre therapy",
      "@type": "propertyValue"
    },
    {
      "name": "MetaAnalysis_Hippocampus_Change",
      "description": "PTSD Meta Analysis Hippocampal Cluster Change Post therapy minus Pre therapy",
      "@type": "propertyValue"
    },
    {
      "name": "PDS_Sum_Pre",
      "description": "Posttraumatic Diagnostic Scale Pre Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "PDS_Sum_Post",
      "description": "Posttraumatic Diagnostic Scale Post Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "PDS_Sum_Follow_Up",
      "description": "Posttraumatic Diagnostic Scale Follow Up",
      "@type": "propertyValue"
    },
    {
      "name": "BDI_Pre",
      "description": "Becks Depression Invetory Pre Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "BDI_Post",
      "description": "Becks Depression Invetory Post Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "BDI_Follow_Up",
      "description": "Becks Depression Invetory Follow Up",
      "@type": "propertyValue"
    },
    {
      "name": "STAI_Trait_Pre",
      "description": "State Trait Anxiety Inventory Trait Scale Pre Therapy",
      "@type": "propertyValue"
    },
    {
      "name": "STAI_Trait_Post",
      "description": "State Trait Anxiety Inventory Trait Scale PostTherapy",
      "@type": "propertyValue"
    },
    {
      "name": "STAI_Trait_Follow_Up",
      "description": "State Trait Anxiety Inventory Trait Scale Follow Up",
      "@type": "propertyValue"
    },
    {
      "name": "PDS_Change",
      "description": "Posttraumatic Diagnostic Scale Change Follow Up minus Post",
      "@type": "propertyValue"
    },
    {
      "name": "BDI_Change",
      "description": "Becks Depression Invetory Pre Change Follow Up minus Post",
      "@type": "propertyValue"
    },
    {
      "name": "STAI_Trait_Change",
      "description": "State Trait Anxiety Inventory Trait Scale Change Follow Up minus Post",
      "@type": "propertyValue"
    }
  ]
}
</script>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
